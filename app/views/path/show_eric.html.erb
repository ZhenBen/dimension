<body>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {packages: ['corechart']});
    google.charts.setOnLoadCallback(drawChart);



    function drawChart()
    {
      var parsed_csv = <%= @parsed_csv.to_json.html_safe %>

      var data_array = []
      data_array.push(["time_spend_company", "satisfaction_level"]);
      // alert(parsed_csv[8].average_montly_hours);
      for (var i = 1; i < 50; i++) {
        data_array.push([Number(parsed_csv[i].time_spend_company), Number(parsed_csv[i].satisfaction_level)]);
      }

      var data = new google.visualization.arrayToDataTable(data_array);
  //
  //       data.addColumn('string', 'Element');
  //       data.addColumn('number', 'Percentage');
  //       data.addRows([
  //         ['Nitrogen', 0.78],
  //         ['Oxygen', 0.21],
  //         ['Other', 0.01]
  //       ]);

        var options = {
          title: 'Age vs. Weight comparison',
//           hAxis: {title: 'Age', minValue: 0, maxValue: 500},
//           vAxis: {title: 'Weight', minValue: 0, maxValue: 500},
          legend: 'none',
        };

        // Instantiate and draw the chart.
        var chart = new google.visualization.ScatterChart(document.getElementById('chartView'));
        chart.draw(data, null);
    }

  </script>

  <style>
  body
  {
      background-color:white;
      margin: 0px;
      overflow: hidden;
      font-family:arial;
      /*color:#fff;*/
  }

  #chartView
  {
    position:absolute;
    height:100%;
    display:block;
    width:100%;
    opacity:0.5;
  }


  </style>

  <div id="main">
    <div id="chartView"/>
  </div>

</body>
